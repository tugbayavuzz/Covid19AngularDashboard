<div class="row">
  <div class="col-md-12">
    <div class="card">
      <div class="card-header">
        <h4 class="card-title">COVID-19 DÜNYA DURUM TABLOSU</h4>
      </div>
      <div class="card-body">
        <div class="table-responsive">
          <p-table #dt1  [value]="globalData" [scrollable]="true" scrollHeight="600px" [globalFilterFields]="['country']" [columns]="cols">
            <ng-template pTemplate="caption">
                    <button  type="button" pButton pRipple icon="pi pi-file-o" (click)="exportCSV()" class="p-mr-2" pTooltip="CSV" tooltipPosition="bottom" title="CSV"></button>
                    <button  type="button" pButton pRipple icon="pi pi-file-excel" (click)="exportExcel()" class="p-button-success p-mr-2"  pTooltip="XLS" tooltipPosition="bottom"></button>
                    <button  type="button" pButton pRipple icon="pi pi-file-pdf" (click)="exportPdf()" class="p-button-warning p-mr-2" pTooltip="PDF" tooltipPosition="bottom"></button>
                <ng-template pTemplate="header" let-columns>
                  <tr>
                    <th *ngFor="let col of columns">
                      {{col.header}}
                    </th>
                  </tr>
                </ng-template>
                <ng-template pTemplate="body" let-rowData let-columns="columns">
                  <tr [pSelectableRow]="rowData">
                    <td *ngFor="let col of columns">
                      {{rowData[col.field]}}
                    </td>
                  </tr>
                </ng-template>
              <div class="table-header p-d-flex">
                <span class="p-input-icon-left p-ml-auto">
                  <i class="pi pi-search"></i>
                  <input pInputText type="text" (input)="dt1.filterGlobal($event.target.value, 'contains')" placeholder="Ülke ara..."/>
                </span>
              </div>
            </ng-template>
            <ng-template pTemplate="header">
              <tr>
                <th pSortableColumn="country">Ülke
                  <p-sortIcon field="country"></p-sortIcon>
                </th>
                <th pSortableColumn="cases">Toplam Vaka
                  <p-sortIcon field="cases"></p-sortIcon>
                </th>
                <th pSortableColumn="recovered">Toplam İyileşen
                  <p-sortIcon field="recovered"></p-sortIcon>
                </th>
                <th pSortableColumn="deaths">Toplam Vefat
                  <p-sortIcon field="deaths"></p-sortIcon>
                </th>
              </tr>
            </ng-template>
            <ng-template pTemplate="body" let-country>
              <tr>
                <td>
                  <img [src]="country.countryInfo.flag" width="30"/>
                  <span class="country-name">{{ country.country }}</span>
                </td>
                <td class="cases">
                  <div class="row">
                    <span class="col-4">{{ country.cases | number }}</span>
                    <div class="col">
                      <p-progressBar
                        [value]="country.cases"
                        [showValue]="false"
                      ></p-progressBar>
                    </div>
                  </div>
                </td>
                <td>{{ country.recovered | number }}</td>
                <td>{{ country.deaths | number }}</td>
              </tr>
            </ng-template>
          </p-table>
          <!-- <table class="table" >
            <thead class=" text-primary">
            <th>
              Ülke
            </th>
            <th>
              Toplam Vaka
            </th>
            <th>
              Toplam İyileşen
            </th>
            <th class="text-right">
              Toplam Vefat
            </th>
            </thead>
            <tbody>
            <tr  *ngFor="let item of globalData">
              <td>
                {{item.country}}
              </td>
              <td>
                {{item.cases}}
              </td>
              <td>
                {{item.recovered}}
              </td>
              <td class="text-right">
                {{item.deaths}}
              </td>
            </tr>
            </tbody>
          </table> -->
        </div>
      </div>
    </div>
  </div>
</div>
